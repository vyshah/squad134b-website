function getHabitToEdit(){var e=Parse.Object.extend("Habit"),t=new Parse.Query(e);t.get(objectId,{success:function(e){habitToEdit=e,oldHabitTitle=e.get("title"),iconString=e.get("icon"),fillFields(oldHabitTitle,iconString)},error:function(e,t){console.log(t)}})}function fillFields(e,t){document.getElementById("title").value=e,document.getElementById(t).style.border="5px solid #42A5F5"}function selectImage(e){document.getElementById("icon1").style.border="none",document.getElementById("icon2").style.border="none",document.getElementById("icon3").style.border="none",document.getElementById("icon4").style.border="none",document.getElementById("icon5").style.border="none",document.getElementById("icon6").style.border="none",document.getElementById("icon7").style.border="none",document.getElementById("icon8").style.border="none",document.getElementById("icon9").style.border="none";var t=document.getElementById(e);t.style.border="5px solid #42A5F5",habitIcon=e}function editHabit(){var e=document.getElementById("title").value,t=parseInt(document.getElementById("daily-frequency").value),n=habitToEdit.get("dailyHabitCounter");n>=t&&(n=t);var o={sun:!1,mon:!1,tues:!1,wed:!1,thurs:!1,fri:!1,sat:!1};Object.keys(o).forEach(function(e){o[e]=document.getElementById(e).checked}),habitToEdit.set("title",e),habitToEdit.set("icon",iconString),habitToEdit.set("weeklyFreq",o),habitToEdit.set("dailyFreq",t),habitToEdit.set("dailyHabitCounter",n),""!=e&&null!=iconString&&atLeastOneClicked(o)?(mixpanel.track("Habit has been edited"),habitToEdit.save(null,{success:function(e){alert("Your habit has been edited!"),window.location="../src/newlist.html"},error:function(e,t){alert("Something went wrong. No changes were made to your habit."),window.location="../src/newlist.html"}})):(mixpanel.track("Error when editing"),alert("One or more fields is missing!"))}function atLeastOneClicked(e){var t=!1;return Object.keys(e).forEach(function(n){e[n]&&(t=!0)}),t}Parse.initialize("BoImLGZodfLfRb4hR2YkejAdYjtSnLriHunArwnP","1oCKt23WJYH6jHrjtEqA8wCNRmva9Pfxuj32GLR8");var username=sessionStorage.getItem("username"),objectId=location.search.substring(1),oldHabitTitle=null,iconString=null,habitToEdit=null;window.onload=getHabitToEdit();